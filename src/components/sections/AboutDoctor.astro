---
import { Picture } from "astro:assets";
import Container from "@/components/ui/Container.astro";
import SectionTitle from "@/components/ui/SectionTitle.astro";
import Badge from "@/components/ui/Badge.astro";
import { site } from "@/lib/content";
import { getPictureProps } from "@/lib/images";
import { withBase } from "@/lib/urls";

const doctorPicture = getPictureProps(
  site.aboutDoctor.imageKey,
  site.aboutDoctor.imageAlt,
  "portrait",
);
---

<section
  class="bg-texture bg-surface-elevated py-14 sm:py-20"
  style={`--texture-image: url('${withBase("/images/background-2.png")}'); --texture-opacity: 0.07;`}
>
  <Container>
    <div class="grid items-start gap-8 lg:grid-cols-5">
      <div class="lg:col-span-2">
        <Picture
          {...doctorPicture}
          class="size-full rounded-2xl border border-border object-cover shadow-sm"
        />
      </div>
      <div class="lg:col-span-3">
        <SectionTitle
          title={site.aboutDoctor.title}
          subtitle={site.doctor.fullName}
        />
        {
          site.doctor.credentialId && (
            <div class="mt-4">
              <Badge class="font-sans font-medium">
                {site.doctor.credentialId}
              </Badge>
            </div>
          )
        }
        <div class="mt-6 space-y-5">
          {
            site.aboutDoctor.bio.map((paragraph) => (
              <p class="font-sans text-body text-text-muted">{paragraph}</p>
            ))
          }
        </div>
      </div>
    </div>
  </Container>
</section>
