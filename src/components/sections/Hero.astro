---
import { Picture } from "astro:assets";
import Section from "@/components/ui/Section.astro";
import Button from "@/components/ui/Button.astro";
import { site } from "@/lib/content";
import { getPictureProps } from "@/lib/images";
import { withBase } from "@/lib/urls";

const heroPicture = getPictureProps(
  site.hero.image.srcKey,
  site.hero.image.alt,
  "hero",
  "eager",
);
---

<Section
  variant="loose"
  className="bg-texture bg-gradient-to-b from-muted to-muted-subtle py-12 md:py-20"
  style={`--texture-image: url('${withBase("/images/background-1.png")}'); --texture-opacity: 0.08;`}
>
  <div class="grid items-center gap-4 md:gap-6 lg:grid-cols-2">
    <div>
      <p
        class="font-sans text-xs font-medium uppercase tracking-wider text-primary/80"
      >
        {site.hero.eyebrow}
      </p>
      <h1
        class="mb-2 mt-5 max-w-[18ch] font-serif text-h1 font-normal tracking-[0.2px] text-text md:mt-6 md:text-h1-desktop"
      >
        {site.hero.h1}
      </h1>
      <p
        class="mt-6 max-w-2xl font-sans text-body font-medium text-text-muted"
      >
        {site.hero.subheadline}
      </p>
      <p class="mt-4 max-w-2xl text-body text-text-muted">
        {site.hero.description}
      </p>
      <div class="mt-8 flex flex-wrap gap-3">
        <Button
          href={site.hero.ctas.primary.href}
          variant="whatsapp"
          ariaLabel={site.hero.ctas.primary.label}
          trackEvent="click_whatsapp"
          trackSource="hero"
        >
          {site.hero.ctas.primary.label}
        </Button>
        <Button
          href={site.hero.ctas.secondary.href}
          variant="secondary"
          ariaLabel={site.hero.ctas.secondary.label}
          trackEvent="click_maps"
          trackSource="hero"
        >
          {site.hero.ctas.secondary.label}
        </Button>
      </div>
    </div>
    <div
      class="overflow-hidden rounded-2xl border border-border/40 bg-surface shadow-[0_4px_20px_rgba(0,0,0,0.04)]"
    >
      <Picture {...heroPicture} class="size-full object-cover" />
    </div>
  </div>
</Section>
